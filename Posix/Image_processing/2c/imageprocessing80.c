#include <stdio.h>
#include <stdlib.h>
#include <time.h>
#include <GL/glut.h>
#include <GL/gl.h>
#include <malloc.h>
#include <signal.h>
#include <pthread.h>

/******************************************************************************
  Displays two grey scale images. On the left is an image that has come from an 
  image processing pipeline, just after colour thresholding. On the right is 
  the result of applying an edge detection convolution operator to the left
  image. This program performs that convolution.
   
  Things to note:
    - A single unsigned char stores a pixel intensity value. 0 is black, 256 is
      white.
    - The colour mode used is GL_LUMINANCE. This uses a single number to 
      represent a pixel's intensity. In this case we want 256 shades of grey,
      which is best stored in eight bits, so GL_UNSIGNED_BYTE is specified as 
      the pixel data type.
    
  To compile adapt the code below wo match your filenames:  
    cc -o imagethread imageprocessing80.c -lglut -lGL -lm -pthread
   
  Dr Kevan Buckley, University of Wolverhampton, 2018
******************************************************************************/
#define width 100 
#define height 72
typedef struct arguments{
int start;
int stride;
}arguments;

unsigned char image[], results[width * height];

void detect_edges(unsigned char *in, unsigned char *out) {
  int j;
  int n_pixels = width * height;

  for(j=0;j<n_pixels;j++) {
    int a, b; // the pixel of interest
    int c, d, e, f; // the pixels adjacent to a,b used for the calculation
    int g; // the result of calculate
    
    b = j / width;
    a = j - (width * b);

    if (a == 0 || b == 0 || a == width - 1 || b == height - 1) {
      results[j] = 0;
    } else {
      c = j + width;
      d = j - 1;
      e = j + 1;
      f = j - width;

      g = (in[j] * 4) + (in[c] * -1) + (in[d] * -1) + (in[e] * -1)
          + (in[f] * -1);

      if (g > 0) { // if the result is positive this is an edge pixel
        out[j] = 255;
      } else {
        out[j] = 0;
      }
    }
  }
}

void *note(void *args)
{
detect_edges(image,results,args);
}


void tidy_and_exit() {
  exit(0);
}

void sigint_callback(int signal_number){
  printf("\nInterrupt from keyboard\n");
  tidy_and_exit();
}

static void view() {
  glClear(GL_COLOR_BUFFER_BIT);
  glRasterPos4i(-1, -1, 0, 1);
  glDrawPixels(width, height, GL_LUMINANCE, GL_UNSIGNED_BYTE, image);
  glRasterPos4i(0, -1, 0, 1);
  glDrawPixels(width, height, GL_LUMINANCE, GL_UNSIGNED_BYTE, results);
  glFlush();
}

static void key_pressed(unsigned char key, int x, int y) {
  switch(key){
    case 27: // escape
      tidy_and_exit();
      break;
    default: 
      printf("\nPress escape to exit\n");
      break;
  }
}
int time_difference(struct timespec *start, struct timespec *finish, 
                    long long int *difference) {
  long long int ds =  finish->tv_sec - start->tv_sec; 
  long long int dn =  finish->tv_nsec - start->tv_nsec; 

  if(dn < 0 ) {
    ds--;
    dn += 1000000000; 
  } 
  *difference = ds * 1000000000 + dn;
  return !(*difference > 0);
}
int main(int argc, char **argv) {
  signal(SIGINT, sigint_callback);
 glutInit(&argc, argv);
struct timespec start, finish;   
  long long int time_elapsed;

  clock_gettime(CLOCK_MONOTONIC, &start);
 


  clock_gettime(CLOCK_MONOTONIC, &finish);
  time_difference(&start, &finish, &time_elapsed);
  printf("Time elapsed was %lldns or %0.9lfs\n", time_elapsed, 
         (time_elapsed/1.0e9)); 
 
  printf("image dimensions %dx%d\n", width, height);
 pthread_t t1, t2, t3, t4;

  arguments t1_arguments;
  t1_arguments.start = 0;
  t1_arguments.stride = 4;

  arguments t2_arguments;
  t2_arguments.start = 1;
  t2_arguments.stride = 4;

  arguments t3_arguments;
  t3_arguments.start = 2;
  t3_arguments.stride = 4;

  arguments t4_arguments;
  t4_arguments.start = 3;
  t4_arguments.stride = 4;

  void *note();
  
  pthread_create(&t1, NULL, note, &t1_arguments);
  pthread_create(&t2, NULL, note, &t2_arguments);
  pthread_create(&t3, NULL, note, &t3_arguments);
  pthread_create(&t4, NULL, note, &t4_arguments);

  pthread_join(t1, NULL);
  pthread_join(t2, NULL);
  pthread_join(t3, NULL);
  pthread_join(t4, NULL);
 

 
  glutInitWindowSize(width * 2,height);
  glutInitDisplayMode(GLUT_SINGLE | GLUT_LUMINANCE);
      
  glutCreateWindow("6CS005 Image Progessing Courework");
  glutDisplayFunc(view);
  glutKeyboardFunc(key_pressed);
  glClearColor(0.0, 1.0, 0.0, 1.0); 

  glutMainLoop(); 

  tidy_and_exit();
  
  return 0;
}

unsigned char image[] = {255,255,255,255,255,255,255,255,0,0,255,255,0,0,0,0,0,0,
  0,0,0,0,0,255,255,0,0,0,0,0,255,0,0,255,255,0,0,
  255,0,0,0,255,0,0,255,255,0,0,0,255,255,255,255,255,255,255,
  255,255,255,255,0,0,0,255,255,0,0,255,255,255,0,0,255,0,0,
  0,0,0,0,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,
  0,0,0,0,0,0,0,255,255,255,0,0,255,255,0,0,255,0,0,
  0,0,0,0,0,0,0,0,0,0,0,255,0,0,255,0,0,255,0,
  0,255,255,0,0,255,0,0,0,255,0,0,255,255,0,0,0,255,255,
  255,255,255,255,255,255,255,255,255,255,0,0,0,255,255,0,255,255,255,
  0,0,255,0,0,0,255,255,0,255,255,0,0,0,255,0,255,255,255,
  255,255,255,255,255,255,0,0,0,0,0,0,0,255,255,0,0,255,0,
  0,0,255,0,0,0,0,0,0,255,0,0,255,255,0,0,255,0,255,
  255,0,0,255,255,0,0,255,0,0,0,0,0,0,255,255,0,0,255,
  0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,255,
  255,0,0,255,255,0,0,255,0,0,0,255,255,0,0,255,0,0,0,
  0,0,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,
  255,0,0,255,0,0,0,255,0,0,255,255,0,0,0,255,0,255,255,
  0,0,255,255,255,0,0,0,255,255,0,0,255,0,0,0,0,0,0,
  255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,0,0,255,255,0,0,0,0,0,0,255,255,0,0,255,255,0,
  0,255,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,0,
  0,0,0,0,0,255,0,0,255,0,0,0,255,0,0,255,255,0,0,
  0,255,255,255,0,0,0,255,255,0,0,0,0,255,255,0,0,255,0,
  0,0,0,0,0,0,255,0,0,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,0,0,0,0,0,0,255,0,0,0,0,0,255,255,255,
  0,0,255,255,0,0,255,255,0,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,0,0,0,255,0,0,255,0,0,0,0,0,255,255,0,
  0,255,255,255,0,0,255,255,0,0,0,0,255,255,0,0,0,0,255,
  255,0,0,255,0,0,0,0,255,0,0,255,0,0,255,255,0,0,255,
  255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,255,255,0,0,
  0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,0,0,0,
  0,0,255,255,0,0,255,255,255,0,0,255,0,0,0,0,0,255,0,
  0,0,0,255,255,255,0,0,255,255,0,0,0,255,0,0,255,0,0,
  0,0,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,
  0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,255,255,
  255,255,255,0,0,0,0,0,255,0,0,255,255,255,0,0,255,0,0,
  0,255,255,255,0,0,0,255,0,0,255,0,0,255,255,0,0,0,255,
  0,0,255,255,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,
  0,0,0,255,255,255,255,255,0,0,0,0,0,255,0,0,0,255,255,
  0,0,255,0,0,255,255,0,255,0,0,0,255,0,0,255,0,0,255,
  255,0,0,255,255,0,0,255,255,255,0,0,0,0,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,0,0,0,0,0,255,255,255,255,255,0,0,255,255,0,0,
  0,0,0,255,255,0,0,255,0,0,255,0,0,0,255,0,0,0,0,
  0,255,0,0,255,255,0,0,255,255,255,0,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,0,0,0,0,0,0,255,255,0,255,255,0,
  0,255,255,0,0,255,0,0,0,0,0,0,255,0,0,0,0,0,255,
  255,0,0,0,0,0,255,255,0,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,255,
  255,0,0,255,0,0,0,0,0,0,255,0,0,0,0,0,0,255,255,
  0,0,0,0,255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,0,255,255,255,255,255,255,255,255,255,255,0,0,
  0,0,0,0,0,0,0,0,255,0,0,0,0,0,0,255,255,0,0,
  0,0,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,0,0,0,0,0,0,0,0,255,255,0,0,0,0,0,
  255,255,255,255,255,0,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,
  0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,0,0,255,0,
  0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,
  0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,0,0,0,255,255,0,0,255,255,255,255,255,0,0,
  255,0,0,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  0,255,255,255,255,255,255,255,255,0,0,0,0,0,255,0,0,255,255,
  255,255,255,255,0,255,0,0,0,0,0,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,0,0,0,0,0,255,255,255,255,255,255,0,255,255,0,0,
  255,0,0,0,255,255,255,255,255,0,255,0,0,0,0,0,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,0,0,255,255,255,255,0,0,255,0,0,0,255,255,255,255,255,
  255,255,255,0,0,255,0,0,0,0,0,0,255,255,0,0,0,0,0,
  0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,0,255,255,0,255,255,0,
  0,255,255,255,255,255,255,0,0,255,255,255,0,0,255,255,255,0,0,
  255,255,255,255,255,255,0,255,0,0,255,255,0,0,255,0,0,255,255,
  0,0,0,255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,0,255,255,255,255,0,0,255,0,255,
  255,0,0,255,0,0,255,255,255,255,255,255,0,0,255,255,255,0,0,
  255,255,255,0,0,255,255,255,255,255,0,0,0,0,255,255,255,0,0,
  255,255,0,255,255,0,0,0,255,255,0,0,0,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,0,0,0,0,0,255,0,0,0,0,0,
  0,0,255,0,255,0,0,0,255,0,0,255,255,255,255,255,255,0,0,
  0,255,255,0,0,255,255,255,0,0,255,255,255,255,255,0,0,255,255,
  255,255,255,0,0,255,0,0,255,255,0,0,0,255,255,0,0,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,255,0,
  0,0,255,255,255,255,255,255,255,255,255,255,255,0,0,255,0,0,255,
  0,0,0,0,0,0,255,255,0,0,0,0,0,0,0,0,255,255,255,
  255,255,255,0,0,0,255,255,0,0,0,255,255,0,0,255,255,255,255,
  255,255,0,0,0,0,255,255,0,0,0,0,0,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  0,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,0,
  0,255,0,0,255,255,0,0,255,0,0,255,255,0,0,0,0,0,0,
  0,0,255,255,255,255,255,255,255,0,0,255,255,255,0,0,0,0,0,
  0,255,255,255,255,255,255,0,0,0,0,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,0,0,0,0,0,0,0,0,0,255,255,255,255,255,
  255,255,255,255,0,0,255,0,0,255,255,0,0,255,0,0,255,255,0,
  0,0,0,255,0,0,0,255,255,255,255,255,0,0,0,0,0,0,255,
  0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,255,255,0,0,
  255,255,255,255,255,255,255,255,255,0,0,0,0,0,255,255,0,0,0,
  0,0,255,255,0,0,0,0,255,0,0,0,255,255,255,255,255,0,0,
  0,0,0,0,255,255,255,0,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,0,255,255,0,0,0,0,
  255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,0,0,0,0,
  255,255,255,0,0,0,0,255,255,255,0,0,0,255,0,0,0,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,0,0,0,255,255,0,0,0,255,255,255,255,255,255,255,255,255,
  0,0,255,255,0,0,255,255,0,0,0,0,255,255,255,0,0,0,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,0,0,0,255,255,0,0,0,255,255,255,255,
  255,255,255,255,255,255,0,0,0,0,255,255,255,255,0,0,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,
  0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,0,0,0,0,255,255,0,0,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,
  0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  0,255,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,0,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,0,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,255,
  255,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,0,0,0,0,0,255,255,255,255,255,0,0,255,255,255,
  255,255,255,255,255,255,0,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,
  0,0,0,0,0,0,255,255,255,0,0,0,0,0,0,255,255,255,255,
  0,0,0,255,255,255,255,255,255,255,255,0,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,255,255,
  0,0,0,255,0,0,0,0,0,0,0,0,255,0,0,0,0,0,0,
  0,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,0,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,255,255,255,
  0,0,255,255,255,0,0,0,255,255,0,0,0,0,0,0,0,255,0,
  0,0,255,255,0,0,255,255,255,255,0,0,0,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,0,0,255,255,255,255,255,255,255,0,0,0,0,
  0,0,255,255,255,0,0,0,255,255,0,0,0,255,255,0,0,0,255,
  255,255,255,255,0,0,0,255,255,0,0,0,255,255,255,0,0,0,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,0,0,0,0,255,255,255,255,255,255,0,0,255,255,255,255,255,255,
  255,0,0,0,0,0,0,0,255,255,0,0,0,255,255,0,0,0,255,
  255,0,0,255,255,255,255,255,255,0,0,255,255,255,0,0,0,255,255,
  255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,
  255,255,255,255,255,0,0,0,0,0,255,255,255,255,255,255,0,0,0,
  255,255,255,255,255,255,0,0,0,0,0,0,0,255,255,0,0,0,255,
  255,0,0,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,0,
  0,0,0,255,255,255,255,0,0,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,255,0,
  0,0,0,0,0,0,255,255,255,0,0,0,0,0,0,0,255,255,255,
  255,255,0,0,0,255,255,255,255,255,255,0,0,255,255,255,0,0,0,
  255,255,0,0,255,0,0,0,255,255,255,0,0,0,255,255,255,255,255,
  255,255,255,0,0,0,0,0,255,255,255,255,0,0,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,0,0,255,0,0,0,255,255,255,
  0,0,0,255,0,0,0,0,0,0,0,255,255,255,0,0,0,0,0,
  0,0,0,255,255,255,255,0,0,0,255,255,255,255,255,255,0,0,255,
  255,255,0,0,0,255,255,0,0,0,0,0,0,255,255,255,0,0,0,
  0,0,0,0,255,255,255,0,0,0,0,0,0,255,255,255,255,0,0,
  255,255,255,255,255,255,255,255,255,0,0,255,255,255,255,0,0,255,255,
  0,0,255,255,255,0,0,0,255,0,0,0,0,0,0,0,0,255,255,
  0,0,0,255,255,0,0,0,255,255,255,255,0,0,0,255,255,255,255,
  255,0,0,0,255,255,255,0,0,0,255,255,0,0,0,0,0,0,255,
  255,255,0,0,0,0,0,0,0,255,255,255,0,0,0,0,0,255,255,
  255,255,255,0,0,255,255,255,255,255,255,255,255,255,0,0,0,255,255,
  0,0,0,0,255,0,0,0,255,0,0,0,0,255,255,0,0,0,0,
  0,0,0,255,255,0,0,0,255,255,0,0,0,255,255,255,255,255,0,
  0,255,255,255,255,255,0,0,0,255,255,255,255,0,0,255,255,0,0,
  0,0,0,0,0,255,255,0,0,0,0,0,0,0,255,255,0,0,0,
  0,0,255,255,255,255,255,255,0,0,0,255,255,255,255,255,255,255,255,
  0,0,0,255,255,0,0,0,0,255,0,0,0,0,0,0,0,0,255,
  255,0,0,255,255,255,0,0,255,255,0,0,0,255,255,255,0,0,255,
  255,255,255,255,0,0,0,0,0,0,255,255,0,0,255,255,255,255,0,
  0,255,255,0,0,0,0,0,0,0,255,255,0,0,0,0,0,255,255,
  255,255,0,0,0,255,255,255,255,255,255,255,255,0,0,0,255,255,255,
  255,255,255,255,255,0,0,0,255,255,0,0,0,0,255,0,0,0,0,
  0,0,0,0,255,255,0,0,255,255,255,0,0,0,255,0,0,0,255,
  255,255,0,0,255,255,255,255,255,0,0,0,0,0,0,255,255,0,0,
  255,255,255,255,0,0,255,255,0,0,0,255,255,0,0,0,255,255,0,
  0,255,255,255,255,255,255,0,0,0,255,255,0,0,255,255,0,0,0,
  0,0,0,0,0,255,255,255,255,255,255,0,0,255,255,0,0,0,0,
  255,255,0,0,0,0,0,0,0,255,255,0,0,255,255,255,0,0,0,
  255,0,0,0,255,255,255,0,0,0,255,255,255,255,0,0,0,0,0,
  0,255,255,0,0,255,255,255,255,0,0,255,255,0,0,0,255,255,0,
  0,0,255,255,0,0,255,255,255,255,255,255,0,0,0,255,255,0,0,
  255,255,0,0,0,0,0,0,0,0,255,255,255,255,255,255,0,0,255,
  255,0,0,0,0,255,255,0,0,0,255,0,0,0,255,255,0,0,0,
  255,255,0,0,0,255,0,0,0,255,255,255,0,0,0,255,255,255,255,
  0,0,0,0,0,255,255,255,0,0,0,255,255,255,0,0,255,255,0,
  0,0,255,255,0,0,0,255,255,0,0,0,255,0,0,255,255,255,0,
  0,0,0,0,0,255,255,0,0,0,0,0,0,0,0,255,255,255,255,
  255,255,0,0,255,0,0,0,0,0,255,255,0,0,0,255,0,0,0,
  255,255,0,0,0,255,255,0,0,0,255,255,0,0,255,255,255,0,0,
  0,255,255,255,255,0,0,0,255,255,255,255,255,0,0,0,255,255,255,
  0,0,255,255,0,0,0,255,255,0,0,0,255,255,0,0,0,0,0,
  0,0,255,255,0,0,0,0,0,0,255,255,0,0,0,0,0,0,0,
  255,255,255,255,255,255,255,0,0,0,0,0,0,0,0,255,255,255,0,
  0,255,0,0,0,255,255,0,0,0,255,255,255,0,0,255,255,0,0,
  255,255,255,0,0,0,255,255,255,255,0,0,0,255,255,255,255,255,255,
  0,0,0,255,0,0,0,255,255,255,0,0,0,0,0,0,0,255,255,
  0,0,0,0,0,0,0,255,255,255,0,0,0,0,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,0,0,0,
  0,255,255,255,0,0,255,0,0,0,255,255,0,0,0,255,255,255,0,
  0,255,255,0,0,0,255,255,0,0,0,255,255,255,255,0,0,0,0,
  0,0,0,255,255,0,0,0,0,0,0,0,255,255,255,0,0,0,0,
  0,0,0,255,255,0,0,0,0,0,0,0,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,
  0,0,0,0,0,0,0,255,255,0,0,0,0,0,0,255,255,255,0,
  0,255,255,0,0,0,255,255,0,0,0,255,255,0,0,0,255,255,255,
  255,0,0,0,0,0,0,0,255,255,0,0,0,0,0,0,0,255,255,
  255,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,0,0,0,0,0,255,0,0,0,255,255,255,0,0,0,0,
  0,255,255,255,0,0,255,255,0,0,0,255,255,0,0,0,255,255,255,
  0,0,255,255,255,255,255,0,0,0,0,0,0,255,255,255,0,0,0,
  0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,0,0,0,0,0,255,0,0,0,255,255,
  255,0,0,0,0,0,255,255,255,0,0,0,0,0,0,0,255,255,0,
  0,0,255,255,255,0,0,255,255,255,255,255,0,0,0,0,0,0,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,255,
  0,0,0,255,255,255,0,0,0,0,0,255,255,255,0,0,0,0,0,
  0,0,255,255,0,0,0,255,255,255,0,0,0,255,255,255,255,0,0,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  0,0,0,0,255,0,0,0,255,255,255,255,0,0,0,255,255,255,255,
  0,0,0,0,0,0,255,255,255,0,0,0,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,0,0,0,255,255,0,0,0,255,255,255,255,0,0,
  0,255,255,255,255,0,0,0,0,0,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,0,0,0,255,255,255,0,0,255,
  255,255,255,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,0,0,0,255,255,0,0,0,255,
  255,255,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,0,0,0,
  0,0,0,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,0,255,255,0,255,0,0,255,
  255,0,0,0,0,0,0,0,0,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,0,0,0,0,0,255,255,255,255,255,255,0,0,255,0,
  0,0,0,0,0,255,0,0,0,0,0,0,0,0,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,
  0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
  0,255,255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
};
